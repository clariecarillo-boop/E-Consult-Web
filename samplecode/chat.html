<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>E-Consult Chat</title>
 <img src="whitelogo.png" alt="Econsult Logo" id="ANT">

<style>
    body {
        font-family: Arial, sans-serif;
        background: url("sun.jpg") no-repeat center center fixed;
        background-size: cover;
        margin: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
    }

    #ANT {
    margin-top: 20px;
    margin-left: 20px;
      position: fixed;     
      top: 0;
      left: 0;
      width: 250px;
      height: 100px;       
      z-index: 1000;   }

    .chat-container {
        width: 360px;
        height: 600px;
        background: white;
        border-radius: 15px;
        display: flex;
        flex-direction: column;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        position: relative;
    }

    .exit-btn {
        position: absolute;
        left: 10px;
        top: 10px;
        background: #ff4d4d;
        color: white;
        padding: 5px 12px;
        border-radius: 8px;
        cursor: pointer;
        font-weight: bold;
        border: none;
    }

    .chat-header {
        background: #0066cc;
        color: white;
        padding: 15px;
        text-align: center;
        font-size: 20px;
        font-weight: bold;
    }

    .chat-box {
        flex: 1;
        padding: 15px;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .message {
        max-width: 75%;
        padding: 10px 14px;
        border-radius: 15px;
        font-size: 14px;
        line-height: 1.4;
    }

    .bot {
        background: #d9e6ff;
        align-self: flex-start;
        border-radius: 15px 15px 15px 5px;
    }

    .user {
        background: #c2ffd2;
        align-self: flex-end;
        border-radius: 15px 15px 5px 15px;
    }

    .input-area {
        display: flex;
        padding: 10px;
        border-top: 1px solid #ccc;
        background: #f5f5f5;
    }

    input {
        flex: 1;
        padding: 10px;
        border-radius: 20px;
        border: 1px solid #bbb;
        outline: none;
    }

    .send-btn {
        margin-left: 10px;
        background: #0066cc;
        color: white;
        padding: 10px 18px;
        border: none;
        border-radius: 10px;
        cursor: pointer;
    }
</style>
</head>

<body>

<div class="chat-container">

    <button class="exit-btn" onclick="window.location.href='consultants.html'">X</button>

    <div class="chat-header">E-Consult Chat</div>

    <div class="chat-box" id="chatBox"></div>

    <div class="input-area">
        <input type="text" id="userInput" placeholder="Type a message..." autocomplete="off">
        <button class="send-btn" onclick="sendMessage()">âž¤</button>
    </div>

</div>

<script>
const chatBox = document.getElementById("chatBox");
const input = document.getElementById("userInput");

// Notification sound
const messageSound = new Audio("https://freesound.org/data/previews/256/256113_3263906-lq.mp3"); 
// You can replace the URL with any short pop sound

const autoReplies = [
    "Hello, How are you feeling today?ðŸ™‚",
    "How would you describe your mood today?ðŸ™‚",
    "Oh I can see that. Have you found yourself struggling to find or maintain motivation lately?",
    "What does waking up in the morning look like for you? Is this a difficult part of your day? Tell me about your daily routine; is there any point of the day that is more challenging than others?",
    "You're truly a hardworking child and a warrior of your own. Always focus on things that improve yourself and avoid negativities in your life ðŸ™‚.Have you been able to manage your personal and work-related responsibilities?", "You donâ€™t need to have everything figured out today. You dont even need to feel â€œokay.â€ But choosing to reflect, to ask yourself honest questions, and to stay curious about your own healingâ€”thatâ€™s already a beautiful, brave step forward."
];

let replyIndex = 0;

window.onload = () => {
    setTimeout(() => botReply(autoReplies[0]), 800);
};

function sendMessage() {
    const text = input.value.trim();
    if (text === "") return;

    addMessage(text, "user");
    input.value = "";

    setTimeout(() => {
        if (replyIndex < autoReplies.length - 1) {
            replyIndex++;
            botReply(autoReplies[replyIndex]);
        }
    }, 800);
}

function addMessage(text, type) {
    const msg = document.createElement("div");
    msg.classList.add("message", type);
    msg.textContent = text;
    chatBox.appendChild(msg);
    chatBox.scrollTop = chatBox.scrollHeight;
    
    // Play notification sound for every message
    messageSound.currentTime = 0; // Reset to start
    messageSound.play();
}

function botReply(text) {
    addMessage(text, "bot");
}

input.addEventListener("keypress", function(e) {
    if (e.key === "Enter") sendMessage();
});
</script>

</body>
</html>
